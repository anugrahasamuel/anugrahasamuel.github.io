---
title: "Assignment 2 – Google Trends"
format: html
editor: visual
---

## 1. Google Trends Website Data

In this section I use the Google Trends website to download search interest for **Trump**, **Kamala Harris**, and **election** in the United States over the last five years.

```{r}
library(tidyverse)

# 1.1 Load CSV downloaded from Google Trends website
web_trends <- read_csv(
  "data/web_trends_trump_harris_election.csv",
  skip = 2
)

# 1.2 Inspect structure
glimpse(web_trends)
head(web_trends)

# 1.3 Clean the date column
web_trends <- web_trends |>
  rename(date = 1) |>
  mutate(date = as.Date(date))

summary(web_trends$date)
```

In the website download, the first column is the date and the remaining columns give relative search interest (0–100) for each keyword. The spacing between dates tells us whether the series is weekly or daily.

------------------------------------------------------------------------

## 2. Google Trends Data Using `gtrendsR`

Here I use the **gtrendsR** package and the provided script `gtrendsR01.R` to collect the same type of search-interest data via the API.

```{r, eval=FALSE}
library(tidyverse)
library(gtrendsR)

# Run the professor's script (lightly edited to save data)
source("gtrendsR01.R")

# The script creates the_df from TrumpHarrisElection$interest_over_time
glimpse(the_df)
head(the_df)
summary(the_df$date)
```

The main data frame returned by `gtrendsR` is `interest_over_time`. It contains:

-   `date` – observation date
-   `hits` – relative search interest (0–100)
-   `keyword` – search term (Trump / Harris / election)
-   `geo` – geographic region (here "US")
-   `gprop` – type of Google search (here "web")
-   `category` – Google Trends category (0 means no special category)

------------------------------------------------------------------------

## 3. Saved Data Files

The modified `gtrendsR01.R` script saves the results in both CSV and R formats:

-   `data/gtrends_trump_harris_election.csv`
-   `data/gtrends_trump_harris_election.rds`

You can verify these files by loading them back into R:

```{r}
gtrends_saved_csv <- read_csv("data/gtrends_trump_harris_election.csv")
gtrends_saved_rds <- readRDS("data/gtrends_trump_harris_election.rds")

glimpse(gtrends_saved_csv)
glimpse(gtrends_saved_rds)
```

Both files contain the same information, but the CSV is a plain text file that can be opened in Excel, while the RDS version keeps R data types and is convenient to load directly into R.

------------------------------------------------------------------------

## 4. Comparison: Website vs. `gtrendsR`

**Google Trends Website**

-   Very easy, point-and-click interface.
-   Automatically shows charts and summary statistics.
-   Exports a single CSV file with one column per keyword.
-   Good for quick, one-off exploration.

**`gtrendsR` Package**

-   Fully scriptable and reproducible: the code records all settings (keywords, time window, country, etc.).
-   Returns a tidy data frame in long format, which is easier to use with packages like `dplyr` and `ggplot2`.
-   Can be automated or repeated for many different queries.
-   Occasionally hits API limits (HTTP 429), which is a practical limitation compared to just using the website.

Overall, the website is best for quick visualization and basic download, while `gtrendsR` is better for systematic research where we want to re-run the same analysis or combine multiple queries.

------------------------------------------------------------------------

## 5. Conclusion

This assignment showed two complementary ways to collect data from Google Trends. The website interface makes it simple to explore search interest visually and download a ready-made CSV file. The `gtrendsR` package requires more setup but gives much more control over the query and produces a tidy, reproducible dataset that fits naturally into an R workflow. For a small class exercise either approach works, but for a real research project I would rely on `gtrendsR` so that my data collection steps are documented in code and can be updated or repeated whenever Google Trends data change.
